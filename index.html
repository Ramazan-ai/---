<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>–î–ª—è –Ω–∞—à–µ–π –¥–æ—á–∫–∏</title>

<style>
html, body {
  margin: 0;
  width: 100%;
  height: 100%;
  background: black;
  overflow: hidden;
  font-family: Arial, sans-serif;
  cursor: none;
}

/* –§–æ—Ç–æ */
#slide {
  position: absolute;
  width: 110%;
  height: 110%;
  object-fit: cover;
  opacity: 0;
  transform: scale(1);
}

/* –¢–µ–∫—Å—Ç */
#text {
  position: absolute;
  bottom: 22%;
  width: 100%;
  text-align: center;
  color: white;
  font-size: 40px;
  padding: 0 60px;
  text-shadow: 0 3px 12px rgba(0,0,0,0.9);
  opacity: 0;
  animation: breathe 6s ease-in-out infinite;
  transition: opacity 2s;
}

@keyframes breathe {
  0%,100% { transform: scale(1); }
  50% { transform: scale(1.015); }
}

/* –ó–∞—Ç–µ–º–Ω–µ–Ω–∏–µ */
#fade {
  position: absolute;
  inset: 0;
  background: black;
  opacity: 0;
  pointer-events: none;
  transition: opacity 3s;
}

/* –ö–Ω–æ–ø–∫–∞ */
#videoBtn {
  position: absolute;
  bottom: 10%;
  left: 50%;
  transform: translateX(-50%);
  padding: 22px 48px;
  font-size: 28px;
  background: rgba(255,255,255,0.95);
  color: black;
  border: none;
  border-radius: 40px;
  opacity: 0;
  pointer-events: none;
  transition: opacity 2s;
  animation: pulse 2.5s infinite;
}

@keyframes pulse {
  0%,100% { transform: translateX(-50%) scale(1); }
  50% { transform: translateX(-50%) scale(1.06); }
}

/* –ö–∏–Ω–æ–ø–æ–ª–æ—Å—ã */
#bars::before,
#bars::after {
  content: "";
  position: fixed;
  left: 0;
  width: 100%;
  height: 6vh;
  background: black;
  z-index: 10;
  pointer-events: none;
}
#bars::before { top: 0; }
#bars::after { bottom: 0; }

/* –ü–ª—ë–Ω–æ—á–Ω–æ–µ –∑–µ—Ä–Ω–æ */
#grain {
  position: fixed;
  inset: 0;
  pointer-events: none;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='160' height='160'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='4'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)' opacity='0.08'/%3E%3C/svg%3E");
  mix-blend-mode: overlay;
  animation: grainMove 0.6s steps(2) infinite;
}

@keyframes grainMove {
  0% { transform: translate(0,0); }
  25% { transform: translate(-1%,1%); }
  50% { transform: translate(1%,-1%); }
  75% { transform: translate(-1%,-1%); }
  100% { transform: translate(0,0); }
}

/* –¢–µ–ª–µ—Ñ–æ–Ω */
@media (max-width: 768px) {
  #text {
    font-size: 26px;
    padding: 0 24px;
  }
  #videoBtn {
    font-size: 22px;
    padding: 18px 36px;
  }
}
</style>
</head>

<body>

<img id="slide">

<div id="text">–ù–∞–∂–º–∏ –≤ –ª—é–±–æ–º –º–µ—Å—Ç–µ ü§ç</div>
<div id="fade"></div>
<button id="videoBtn">–ü–æ—Å–º–æ—Ç—Ä–∏ ü§ç</button>
<div id="bars"></div>
<div id="grain"></div>

<audio id="music" src="music.mp3" loop></audio>

<script>
const slides = [
  { photos: "01.jpg", text: "2002 –≥–æ–¥ —Å—Ç–∞–ª —Å–∞–º—ã–º –≤–∞–∂–Ω—ã–º –≤ –Ω–∞—à–µ–π –∂–∏–∑–Ω–∏" },
  { photos: "02.jpg", text: "–° —Ç–≤–æ–∏–º –ø–æ—è–≤–ª–µ–Ω–∏–µ–º –º–∏—Ä —Å—Ç–∞–ª –¥—Ä—É–≥–∏–º" },
  { photos: "03.jpg", text: "–ú—ã –≤–∏–¥–µ–ª–∏, –∫–∞–∫ —Ç—ã —Ä–æ—Å–ª–∞" },
  { photos: "04.jpg", text: "–ö–∞–∫ —É—á–∏–ª–∞—Å—å, –º–µ—á—Ç–∞–ª–∞, –∏—Å–∫–∞–ª–∞ —Å–µ–±—è" },
  { photos: "05.jpg", text: "–ò–Ω–æ–≥–¥–∞ –±—ã–ª–æ –Ω–µ–ø—Ä–æ—Å—Ç–æ" },
  { photos: "06.jpg", text: "–ù–æ —Ç—ã –≤—Å–µ–≥–¥–∞ –Ω–∞—Ö–æ–¥–∏–ª–∞ —Å–∏–ª—ã –∏–¥—Ç–∏ –¥–∞–ª—å—à–µ" },
  { photos: "07.jpg", text: "–ú—ã –≥–æ—Ä–¥–∏–º—Å—è —Ç–æ–±–æ–π –∫–∞–∂–¥—ã–π –¥–µ–Ω—å" },
  { photos: "08.jpg", text: "–¢—ã ‚Äî –Ω–∞—à–µ —Å—á–∞—Å—Ç—å–µ" },
  { photos: "09.jpg", text: "–¢—ã ‚Äî –Ω–∞—à–∞ –ª—é–±–æ–≤—å" },
  { photos: "10.jpg", text: "–° –¥–Ω—ë–º —Ä–æ–∂–¥–µ–Ω–∏—è, —Ä–æ–¥–Ω–∞—è" },
  { photos: "11.jpg", text: "–ú—ã –≤—Å–µ–≥–¥–∞ —Ä—è–¥–æ–º" },
  { photos: "12.jpg", text: "–ú–∞–º–∞ –∏ –ø–∞–ø–∞ ü§ç", final: true }
];

let index = 0;
let started = false;

const slide = document.getElementById("slide");
const text = document.getElementById("text");
const music = document.getElementById("music");
const fade = document.getElementById("fade");
const videoBtn = document.getElementById("videoBtn");

music.volume = 0.6;

/* preload */
slides.forEach(s => {
  const img = new Image();
  img.src = "photos/" + s.photo;
});

function fadeOutMusic() {
  const f = setInterval(() => {
    if (music.volume > 0.02) music.volume -= 0.02;
    else {
      music.volume = 0;
      clearInterval(f);
    }
  }, 200);
}

function showSlide() {
  if (index >= slides.length) {
    fadeOutMusic();
    fade.style.opacity = 1;
    setTimeout(() => {
      videoBtn.style.opacity = 1;
      videoBtn.style.pointerEvents = "auto";
    }, 3000);
    return;
  }

  const current = slides[index];

  text.style.letterSpacing = "normal";
  text.style.fontSize = "";
  slide.style.transition = "none";
  slide.style.opacity = 0;
  slide.style.transform = "scale(1)";
  text.style.opacity = 0;

  let fired = false;

  const onReady = () => {
    if (fired) return;
    fired = true;

    slide.style.transition = "opacity 2s ease-in-out, transform 7s ease-in-out";
    text.style.transition = "opacity 2s";

    if (current.final) {
      text.style.letterSpacing = "3px";
      text.style.fontSize = "36px";
    }

    requestAnimationFrame(() => {
      slide.style.opacity = 1;
      text.style.opacity = 1;
      slide.style.transform = "scale(1.08)";
    });

    index++;
    setTimeout(showSlide, current.final ? 12000 : 7000);
  };

  slide.onload = onReady;
  slide.src = "photos/" + current.photo;
  text.innerText = current.text;

  if (slide.complete) {
    setTimeout(onReady, 50);
  }
}

function start() {
  if (started) return;
  started = true;

  music.play().catch(() => {});
  setTimeout(() => text.style.opacity = 0, 1500);
  showSlide();
}

document.body.addEventListener("click", start);
document.addEventListener("keydown", e => {
  if (e.key === "Enter") {
    if (!started) start();
    else if (videoBtn.style.opacity == 1) videoBtn.click();
  }
});

videoBtn.onclick = () => {
  window.location.href = "https://www.youtube.com/watch?v=–¢–í–û–ô_ID";
};
</script>

</body>
</html>
